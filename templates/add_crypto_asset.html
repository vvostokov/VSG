{% extends "base.html" %}

{% block title %}Добавить крипто-актив{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header">
                    <h3 class="mb-0">Добавить крипто-актив для платформы "{{ platform.name }}"</h3>
                </div>
                <div class="card-body">
                    <p class="text-muted">
                        Эта форма позволяет добавить актив, который не отслеживается через API (например, в стейкинге, который не виден API, или просто для ручного учета).
                        Цена актива будет подгружена автоматически, если это возможно.
                    </p>
                    <hr>
                    <form method="POST" action="{{ url_for('main.ui_add_investment_asset_form', platform_id=platform.id) }}">
                        
                        <div class="form-group mb-3">
                            <label for="ticker" class="form-label">Тикер актива</label>
                            <input type="text" class="form-control" id="ticker" name="ticker" value="{{ current_data.ticker or '' }}" placeholder="Например: BTC, ETH, TON" required style="text-transform:uppercase">
                            <small class="form-text text-muted">Введите официальный тикер криптовалюты.</small>
                        </div>

                        <div class="form-group mb-3">
                            <label for="quantity" class="form-label">Количество</label>
                            <input type="text" class="form-control" id="quantity" name="quantity" value="{{ current_data.quantity or '' }}" placeholder="Например: 0.5" required pattern="[0-9]*[.,]?[0-9]+">
                            <small class="form-text text-muted">Используйте точку или запятую в качестве десятичного разделителя.</small>
                        </div>

                        <div class="form-group mb-3">
                            <label for="source_account_type" class="form-label">Тип кошелька / Источник</label>
                            <input type="text" class="form-control" id="source_account_type" name="source_account_type" value="{{ current_data.source_account_type or '' }}" placeholder="Например: Manual, Staking, Lending" required>
                            <small class="form-text text-muted">Укажите, где находится этот актив. Это поможет отделить его от активов, синхронизируемых по API.</small>
                        </div>

                        <hr>

                        <div class="d-flex justify-content-end">
                            <a href="{{ url_for('main.ui_investment_platform_detail', platform_id=platform.id) }}" class="btn btn-secondary me-2">Отмена</a>
                            <button type="submit" class="btn btn-primary">Добавить актив</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}